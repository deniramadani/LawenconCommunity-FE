<header id="header" class="header fixed-top flex justify-content-between w-full  lg:px-8 gap-3">
   <div class="flex">
      <img src="../../../assets/icons/logo-community.png" alt="Image" height="45" class="mt-2 ml-3" routerLink="/home"
         role="button">
   </div>
   <div pRipple class="flex cursor-pointer block lg:hidden ml-8 align-self-center text-700" pStyleClass="@next"
      enterClass="hidden" leaveToClass="hidden" [hideOnOutsideClick]="true">
      <div class="flex justify-content-end">
         <i class="pi pi-bars text-4xl mr-5" [style]="{'float':'right'}"></i>
      </div>

   </div>


   <div
      class="flex-grow-1 justify-content-between hidden lg:flex absolute lg:static w-full surface-overlay left-0 top-100 z-1 shadow-2 lg:shadow-none">
      <ul class="list-none p-0 m-0 flex select-none align-items-center flex-column lg:flex-row">
         <a class="p-link lg:ml-4" (click)="showFormPayment()">
            <span class="text-xs underline font-italic text-yellow-500 {{premium}} ">Start to premium</span>
         </a>
      </ul>
      <ul
         class="list-none p-0 m-0 flex select-none flex-column lg:flex-row border-top-1 surface-border lg:border-top-none">
         <li class="h-full">
            <a pRipple routerLink="/home"
               class="cursor-pointer text-900 h-full inline-flex align-items-center border-left-2 lg:border-left-none lg:border-bottom-2 border-transparent hover:border-500 transition-colors transition-duration-150 py-3 lg:py-0 px-3">
               <span class="bi bi-house-door mr-2"></span>
               <span class="font-medium">Home</span>
            </a>
         </li>
         <li class="h-full">
            <a pRipple routerLink="/events-courses"
               class="cursor-pointer h-full inline-flex align-items-center text-900 border-left-2 lg:border-left-none lg:border-bottom-2 border-transparent hover:border-500 transition-colors transition-duration-150 py-3 lg:py-0 px-3">
               <span class="bi bi-calendar-plus mr-2"></span>
               <span class="font-medium">Event & Course</span>
            </a>
         </li>
         <li class="h-full">
            <a pRipple routerLink="/my-activity"
               class="cursor-pointer h-full inline-flex align-items-center text-900 border-left-2 lg:border-left-none lg:border-bottom-2 border-transparent hover:border-600 transition-colors transition-duration-150 py-3 lg:py-0 px-3">
               <span class="pi pi-star mr-2"></span>
               <span class="font-medium">My Activity</span>
            </a>
         </li>
         <li class="h-full relative ">
            <a pRipple
               class="cursor-pointer h-full inline-flex align-items-center text-600 py-3 lg:py-0 px-3 border-left-2 lg:border-left-none lg:border-bottom-2 border-transparent hover:border-500 transition-colors transition-duration-150"
               pStyleClass="@next" enterClass="hidden" leaveToClass="hidden" leaveActiveClass="fadeout"
               [hideOnOutsideClick]="true">


               <div *ngIf="photoId == ''; then default else photoProfile"></div>
               <ng-template #default>
                  <p-avatar class="pt-2" image="../../../assets/img/default.jpg" shape="circle" shape="circle">
                  </p-avatar>
               </ng-template>
               <ng-template #photoProfile>
                  <p-avatar class="pt-2" image="{{fileDownload}}{{photoId}}" shape="circle" shape="circle">
                  </p-avatar>
               </ng-template>
               <span class="mx-2 font-medium text-900">{{fullname}}</span>
               <i class="pi pi-angle-down"></i>
            </a>
            <div
               class="hidden static lg:absolute  w-full surface-overlay left-0 top-100 shadow-none lg:shadow-2 origin-top border-round pl-3 lg:pl-0">
               <ul class="list-none px-1 py-2 m-0">

                  <li> <a class="dropdown-item d-flex align-items-center" routerLink="/profile/members"> <i
                           class="bi bi-person"></i> <span>My Profile</span> </a></li>
                  <li>
                     <hr class="dropdown-divider">
                  </li>
                  <li> <a class="dropdown-item d-flex align-items-center" (click)="logOut()" role="button">
                        <i class="bi bi-box-arrow-right"></i> <span>Sign Out</span> </a>
                  </li>
               </ul>
            </div>
         </li>
      </ul>
   </div>

</header>

<p-dialog header="Start Premium Members" [(visible)]="displayPayment" [breakpoints]="{'960px': '75vw'}"
   [style]="{width: '60vw'}" [draggable]="false" [resizable]="false">
   <div class="flex flex-wrap">
      <div class="w-full lg:w-6 lg:p-4" style="background-color: rgba(105, 146, 221, 0.966)">
         <div class="text-xl text-white font-500 mb-3">Premium Member Benefits</div>
         <p class="text-white line-height-3 mt-0 mb-6">Quis vel eros donec ac odio tempor orci dapibus. In hac
            habitasse platea dictumst quisque.</p>
         <ul class="list-none p-0 m-0">
            <li class="flex align-items-start mb-4">
               <div>
                  <span class="flex align-items-center justify-content-center bg-purple-400"
                     style="width:38px;height:38px;border-radius:10px">
                     <i class="text-xl text-white pi pi-inbox"></i>
                  </span>
               </div>
               <div class="ml-3">
                  <span class="font-medium text-white">Show all posts</span>
                  <p class="mt-2 mb-0 text-white line-height-3">premium updates to get wider posts and increase your
                     relationships</p>
               </div>
            </li>
         </ul>
      </div>
      <div class="w-full lg:w-6 lg:p-2 surface-card">
         <div class="p-3" *ngIf="paymentStatus == paymentRejected || paymentStatus == paymentNone">
            <div class="grid">
               <div class="col-12 pb-2 flex">
                  <div>
                     <span class="event-type p-2"><img src="https://cdn-icons-png.flaticon.com/512/981/981769.png"
                           class="w-1"> Total
                        Payment :
                     </span>
                     <span>Rp. 200.000</span>
                  </div>
               </div>
               <div class="col-12 py-2 px-3 border-round text-black text-md">
                  <label class="font-bold">Bank Bca</label>
                  <hr>
                  <span class="text-sm">No Rekening :</span>
                  <p class="text-black font-semibold text-lg" style="letter-spacing: 3px;">141215123</p>
                  <hr>
                  <label class="text-sm font-italic ">make payments and upload proof of payment</label>
               </div>
            </div>
            <form class="text-center mt-3 px-3" [formGroup]="dataPremium" (ngSubmit)="submit()">
               <p-fileUpload mode="basic" name="avatar" accept="image/*" [customUpload]="true"
                  styleClass="p-button-outlined p-button-plain" (onSelect)="fileUpload($event)"
                  chooseLabel="Upload Image">
               </p-fileUpload>
               <button pButton icon="pi pi-send" pRipple type="button" styleClass="p-button-sm" type="submit"
                  label="Send Payment" class="p-button-outlined p-button-rounded mt-3 p-0 p-2 w-full"></button>
            </form>
         </div>
         <div class="p-card p-3 my-3" *ngIf="paymentStatus !== paymentNone">
            <h5 class="text-lg">Transaction History</h5>
            <hr>
            <p-table [value]="detailPayment" [scrollable]="true" scrollHeight="250px" [virtualScroll]="true"
               [virtualScrollItemSize]="46">
               <ng-template pTemplate="header">
                  <tr>
                     <th>Code</th>
                     <th>Status</th>
                     <th>Created</th>
                  </tr>
               </ng-template>
               <ng-template pTemplate="body" let-data let-i="rowIndex">
                  <tr>
                     <td>{{data.transactionCode}}</td>
                     <td>
                        <div *ngIf="data.approval == true && data.isActive == true">
                           <p-badge value="Accepted" severity="success"></p-badge>
                        </div>
                        <div *ngIf="data.approval == false && data.isActive == true">
                           <p-badge value="Pending" severity="warning"></p-badge>
                        </div>
                        <div *ngIf="data.approval == false && data.isActive == false">
                           <p-badge value="Rejected" severity="danger"></p-badge>
                        </div>
                     </td>
                     <td>{{data.createdAt | date:'E, dd MMM yy'}}</td>
                  </tr>
               </ng-template>
            </p-table>

         </div>
      </div>
   </div>
</p-dialog>